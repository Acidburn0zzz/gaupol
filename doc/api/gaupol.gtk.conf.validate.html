<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;gaupol.gtk.conf.validate&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="module">Module g.g.c.validate</h1>
    <p>
      <span id="part">Part of <a href="gaupol.html">gaupol</a>.<a href="gaupol.gtk.html">gtk</a>.<a href="gaupol.gtk.conf.html">conf</a></span>
      <a href="gaupol/gtk/conf/validate.py.html">View Source</a>
      
    </p>
    <div>
      
    </div>
    <div><pre class="literalblock">
The Validator object is used to check that supplied values 
conform to a specification.

The value can be supplied as a string - e.g. from a config file.
In this case the check will also *convert* the value to
the required type. This allows you to add validation
as a transparent layer to access data stored as strings.
The validation checks that the data is correct *and*
converts it to the expected type.

Some standard checks are provided for basic data types.
Additional checks are easy to write. They can be
provided when the ``Validator`` is instantiated or
added afterwards.

The standard functions work with the following basic data types :

* integers
* floats
* booleans
* strings
* ip_addr

plus lists of these datatypes

Adding additional checks is done through coding simple functions.

The full set of standard checks are : 

* 'integer': matches integer values (including negative)
             Takes optional 'min' and 'max' arguments : ::

               integer()
               integer(3, 9)  # any value from 3 to 9
               integer(min=0) # any positive value
               integer(max=9)

* 'float': matches float values
           Has the same parameters as the integer check.

* 'boolean': matches boolean values - ``True`` or ``False``
             Acceptable string values for True are :
               true, on, yes, 1
             Acceptable string values for False are :
               false, off, no, 0

             Any other value raises an error.

* 'ip_addr': matches an Internet Protocol address, v.4, represented
             by a dotted-quad string, i.e. '1.2.3.4'.

* 'string': matches any string.
            Takes optional keyword args 'min' and 'max'
            to specify min and max lengths of the string.

* 'list': matches any list.
          Takes optional keyword args 'min', and 'max' to specify min and
          max sizes of the list.

* 'int_list': Matches a list of integers.
              Takes the same arguments as list.

* 'float_list': Matches a list of floats.
                Takes the same arguments as list.

* 'bool_list': Matches a list of boolean values.
               Takes the same arguments as list.

* 'ip_addr_list': Matches a list of IP addresses.
                 Takes the same arguments as list.

* 'string_list': Matches a list of strings.
                 Takes the same arguments as list.

* 'mixed_list': Matches a list with different types in 
                specific positions. List size must match
                the number of arguments.

                Each position can be one of :
                'integer', 'float', 'ip_addr', 'string', 'boolean'

                So to specify a list with two strings followed
                by two integers, you write the check as : ::

                  mixed_list('string', 'string', 'integer', 'integer')

* 'pass': This check matches everything ! It never fails
          and the value is unchanged.

          It is also the default if no check is specified.

* 'option': This check matches any from a list of options.
            You specify this check with : ::

              option('option 1', 'option 2', 'option 3')

You can supply a default value (returned if no value is supplied)
using the default keyword argument.

You specify a list argument for default using a list constructor syntax in
the check : ::

    checkname(arg1, arg2, default=list('val 1', 'val 2', 'val 3'))

A badly formatted set of arguments will raise a ``VdtParamError``.
</pre>
<table class="fieldTable"></table></div>
    
    
    <div id="splitTables">
      <table class="children sortable" id="id260">
  
  
  
  
  <tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#bool">bool</a></td>
    <td><span><pre class="literalblock">
Simple boolean equivalent function. 
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#dottedQuadToNum">dottedQuadToNum</a></td>
    <td><span><pre class="literalblock">
Convert decimal dotted quad string to long integer
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#numToDottedQuad">numToDottedQuad</a></td>
    <td><span><pre class="literalblock">
Convert long int to dotted quad string
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.ValidateError.html">ValidateError</a></td>
    <td><span><pre class="literalblock">
This error indicates that the check failed.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtMissingValue.html">VdtMissingValue</a></td>
    <td><span><pre class="literalblock">
No value was supplied to a check that needed one.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtUnknownCheckError.html">VdtUnknownCheckError</a></td>
    <td><span><pre class="literalblock">
An unknown check function was requested
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtParamError.html">VdtParamError</a></td>
    <td><span><pre class="literalblock">
An incorrect parameter was passed
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtTypeError.html">VdtTypeError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the wrong type
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtValueError.html">VdtValueError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the correct type, but was not an allowed value.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtValueTooSmallError.html">VdtValueTooSmallError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the correct type, but was too small.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtValueTooBigError.html">VdtValueTooBigError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the correct type, but was too big.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtValueTooShortError.html">VdtValueTooShortError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the correct type, but was too short.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.VdtValueTooLongError.html">VdtValueTooLongError</a></td>
    <td><span><pre class="literalblock">
The value supplied was of the correct type, but was too long.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol.gtk.conf.validate.Validator.html">Validator</a></td>
    <td><span><pre class="literalblock">
Validator is an object that allows you to register a set of 'checks'.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#_is_num_param">_is_num_param</a></td>
    <td><span><pre class="literalblock">
Return numbers from inputs or raise VdtParamError.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_integer">is_integer</a></td>
    <td><span><pre class="literalblock">
A check that tests that a given value is an integer (int, or long)
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_float">is_float</a></td>
    <td><span><pre class="literalblock">
A check that tests that a given value is a float
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_boolean">is_boolean</a></td>
    <td><span><pre class="literalblock">
Check if the value represents a boolean.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_ip_addr">is_ip_addr</a></td>
    <td><span><pre class="literalblock">
Check that the supplied value is an Internet Protocol address, v.4,
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_list">is_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of values.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_string">is_string</a></td>
    <td><span><pre class="literalblock">
Check that the supplied value is a string.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_int_list">is_int_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of integers.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_bool_list">is_bool_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of booleans.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_float_list">is_float_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of floats.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_string_list">is_string_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of strings.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_ip_addr_list">is_ip_addr_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list of IP addresses.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_mixed_list">is_mixed_list</a></td>
    <td><span><pre class="literalblock">
Check that the value is a list.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#is_option">is_option</a></td>
    <td><span><pre class="literalblock">
This check matches the value to any of a set of options.
</pre>
</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol.gtk.conf.validate.html#_test">_test</a></td>
    <td><span><pre class="literalblock">
A function that exists for test purposes.
</pre>
</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    
    <div class="function">
        <a name="gaupol.gtk.conf.validate.bool"></a>
        <a name="bool"></a>
        <div class="functionHeader">
        def bool(val):
        <a href="gaupol/gtk/conf/validate.py.html#L254" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Simple boolean equivalent function. 
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.dottedQuadToNum"></a>
        <a name="dottedQuadToNum"></a>
        <div class="functionHeader">
        def dottedQuadToNum(ip):
        <a href="gaupol/gtk/conf/validate.py.html#L261" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Convert decimal dotted quad string to long integer

&gt;&gt;&gt; dottedQuadToNum('1 ')
1L
&gt;&gt;&gt; dottedQuadToNum(' 1.2')
16777218L
&gt;&gt;&gt; dottedQuadToNum(' 1.2.3 ')
16908291L
&gt;&gt;&gt; dottedQuadToNum('1.2.3.4')
16909060L
&gt;&gt;&gt; dottedQuadToNum('1.2.3. 4')
Traceback (most recent call last):
ValueError: Not a good dotted-quad IP: 1.2.3. 4
&gt;&gt;&gt; dottedQuadToNum('255.255.255.255')
4294967295L
&gt;&gt;&gt; dottedQuadToNum('255.255.255.256')
Traceback (most recent call last):
ValueError: Not a good dotted-quad IP: 255.255.255.256
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.numToDottedQuad"></a>
        <a name="numToDottedQuad"></a>
        <div class="functionHeader">
        def numToDottedQuad(num):
        <a href="gaupol/gtk/conf/validate.py.html#L297" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Convert long int to dotted quad string

&gt;&gt;&gt; numToDottedQuad(-1L)
Traceback (most recent call last):
ValueError: Not a good numeric IP: -1
&gt;&gt;&gt; numToDottedQuad(1L)
'0.0.0.1'
&gt;&gt;&gt; numToDottedQuad(16777218L)
'1.0.0.2'
&gt;&gt;&gt; numToDottedQuad(16908291L)
'1.2.0.3'
&gt;&gt;&gt; numToDottedQuad(16909060L)
'1.2.3.4'
&gt;&gt;&gt; numToDottedQuad(4294967295L)
'255.255.255.255'
&gt;&gt;&gt; numToDottedQuad(4294967296L)
Traceback (most recent call last):
ValueError: Not a good numeric IP: 4294967296
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate._is_num_param"></a>
        <a name="_is_num_param"></a>
        <div class="functionHeader">
        def _is_num_param(names, values, to_float=False):
        <a href="gaupol/gtk/conf/validate.py.html#L668" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Return numbers from inputs or raise VdtParamError.

Lets ``None`` pass through.
Pass in keyword argument ``to_float=True`` to
use float for the conversion rather than int.

&gt;&gt;&gt; _is_num_param(('', ''), (0, 1.0))
[0, 1]
&gt;&gt;&gt; _is_num_param(('', ''), (0, 1.0), to_float=True)
[0.0, 1.0]
&gt;&gt;&gt; _is_num_param(('a'), ('a'))
Traceback (most recent call last):
VdtParamError: passed an incorrect value &quot;a&quot; for parameter &quot;a&quot;.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_integer"></a>
        <a name="is_integer"></a>
        <div class="functionHeader">
        def is_integer(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L704" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
A check that tests that a given value is an integer (int, or long)
and optionally, between bounds. A negative value is accepted, while
a float will fail.

If the value is a string, then the conversion is done - if possible.
Otherwise a VdtError is raised.

&gt;&gt;&gt; vtor.check('integer', '-1')
-1
&gt;&gt;&gt; vtor.check('integer', '0')
0
&gt;&gt;&gt; vtor.check('integer', 9)
9
&gt;&gt;&gt; vtor.check('integer', 'a')
Traceback (most recent call last):
VdtTypeError: the value &quot;a&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('integer', '2.2')
Traceback (most recent call last):
VdtTypeError: the value &quot;2.2&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('integer(10)', '20')
20
&gt;&gt;&gt; vtor.check('integer(max=20)', '15')
15
&gt;&gt;&gt; vtor.check('integer(10)', '9')
Traceback (most recent call last):
VdtValueTooSmallError: the value &quot;9&quot; is too small.
&gt;&gt;&gt; vtor.check('integer(10)', 9)
Traceback (most recent call last):
VdtValueTooSmallError: the value &quot;9&quot; is too small.
&gt;&gt;&gt; vtor.check('integer(max=20)', '35')
Traceback (most recent call last):
VdtValueTooBigError: the value &quot;35&quot; is too big.
&gt;&gt;&gt; vtor.check('integer(max=20)', 35)
Traceback (most recent call last):
VdtValueTooBigError: the value &quot;35&quot; is too big.
&gt;&gt;&gt; vtor.check('integer(0, 9)', False)
0
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_float"></a>
        <a name="is_float"></a>
        <div class="functionHeader">
        def is_float(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L760" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
A check that tests that a given value is a float
(an integer will be accepted), and optionally - that it is between bounds.

If the value is a string, then the conversion is done - if possible.
Otherwise a VdtError is raised.

This can accept negative values.

&gt;&gt;&gt; vtor.check('float', '2')
2.0

From now on we multiply the value to avoid comparing decimals

&gt;&gt;&gt; vtor.check('float', '-6.8') * 10
-68.0
&gt;&gt;&gt; vtor.check('float', '12.2') * 10
122.0
&gt;&gt;&gt; vtor.check('float', 8.4) * 10
84.0
&gt;&gt;&gt; vtor.check('float', 'a')
Traceback (most recent call last):
VdtTypeError: the value &quot;a&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('float(10.1)', '10.2') * 10
102.0
&gt;&gt;&gt; vtor.check('float(max=20.2)', '15.1') * 10
151.0
&gt;&gt;&gt; vtor.check('float(10.0)', '9.0')
Traceback (most recent call last):
VdtValueTooSmallError: the value &quot;9.0&quot; is too small.
&gt;&gt;&gt; vtor.check('float(max=20.0)', '35.0')
Traceback (most recent call last):
VdtValueTooBigError: the value &quot;35.0&quot; is too big.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_boolean"></a>
        <a name="is_boolean"></a>
        <div class="functionHeader">
        def is_boolean(value):
        <a href="gaupol/gtk/conf/validate.py.html#L816" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check if the value represents a boolean.

&gt;&gt;&gt; vtor.check('boolean', 0)
0
&gt;&gt;&gt; vtor.check('boolean', False)
0
&gt;&gt;&gt; vtor.check('boolean', '0')
0
&gt;&gt;&gt; vtor.check('boolean', 'off')
0
&gt;&gt;&gt; vtor.check('boolean', 'false')
0
&gt;&gt;&gt; vtor.check('boolean', 'no')
0
&gt;&gt;&gt; vtor.check('boolean', 'nO')
0
&gt;&gt;&gt; vtor.check('boolean', 'NO')
0
&gt;&gt;&gt; vtor.check('boolean', 1)
1
&gt;&gt;&gt; vtor.check('boolean', True)
1
&gt;&gt;&gt; vtor.check('boolean', '1')
1
&gt;&gt;&gt; vtor.check('boolean', 'on')
1
&gt;&gt;&gt; vtor.check('boolean', 'true')
1
&gt;&gt;&gt; vtor.check('boolean', 'yes')
1
&gt;&gt;&gt; vtor.check('boolean', 'Yes')
1
&gt;&gt;&gt; vtor.check('boolean', 'YES')
1
&gt;&gt;&gt; vtor.check('boolean', '')
Traceback (most recent call last):
VdtTypeError: the value &quot;&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('boolean', 'up')
Traceback (most recent call last):
VdtTypeError: the value &quot;up&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_ip_addr"></a>
        <a name="is_ip_addr"></a>
        <div class="functionHeader">
        def is_ip_addr(value):
        <a href="gaupol/gtk/conf/validate.py.html#L876" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the supplied value is an Internet Protocol address, v.4,
represented by a dotted-quad string, i.e. '1.2.3.4'.

&gt;&gt;&gt; vtor.check('ip_addr', '1 ')
'1'
&gt;&gt;&gt; vtor.check('ip_addr', ' 1.2')
'1.2'
&gt;&gt;&gt; vtor.check('ip_addr', ' 1.2.3 ')
'1.2.3'
&gt;&gt;&gt; vtor.check('ip_addr', '1.2.3.4')
'1.2.3.4'
&gt;&gt;&gt; vtor.check('ip_addr', '0.0.0.0')
'0.0.0.0'
&gt;&gt;&gt; vtor.check('ip_addr', '255.255.255.255')
'255.255.255.255'
&gt;&gt;&gt; vtor.check('ip_addr', '255.255.255.256')
Traceback (most recent call last):
VdtValueError: the value &quot;255.255.255.256&quot; is unacceptable.
&gt;&gt;&gt; vtor.check('ip_addr', '1.2.3.4.5')
Traceback (most recent call last):
VdtValueError: the value &quot;1.2.3.4.5&quot; is unacceptable.
&gt;&gt;&gt; vtor.check('ip_addr', '1.2.3. 4')
Traceback (most recent call last):
VdtValueError: the value &quot;1.2.3. 4&quot; is unacceptable.
&gt;&gt;&gt; vtor.check('ip_addr', 0)
Traceback (most recent call last):
VdtTypeError: the value &quot;0&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_list"></a>
        <a name="is_list"></a>
        <div class="functionHeader">
        def is_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L915" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of values.

You can optionally specify the minimum and maximum number of members.

It does no check on list members.

&gt;&gt;&gt; vtor.check('list', ())
()
&gt;&gt;&gt; vtor.check('list', [])
[]
&gt;&gt;&gt; vtor.check('list', (1, 2))
(1, 2)
&gt;&gt;&gt; vtor.check('list', [1, 2])
[1, 2]
&gt;&gt;&gt; vtor.check('list', '12')
'12'
&gt;&gt;&gt; vtor.check('list(3)', (1, 2))
Traceback (most recent call last):
VdtValueTooShortError: the value &quot;(1, 2)&quot; is too short.
&gt;&gt;&gt; vtor.check('list(max=5)', (1, 2, 3, 4, 5, 6))
Traceback (most recent call last):
VdtValueTooLongError: the value &quot;(1, 2, 3, 4, 5, 6)&quot; is too long.
&gt;&gt;&gt; vtor.check('list(min=3, max=5)', (1, 2, 3, 4))
(1, 2, 3, 4)
&gt;&gt;&gt; vtor.check('list', 0)
Traceback (most recent call last):
VdtTypeError: the value &quot;0&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_string"></a>
        <a name="is_string"></a>
        <div class="functionHeader">
        def is_string(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L956" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the supplied value is a string.

You can optionally specify the minimum and maximum number of members.

&gt;&gt;&gt; vtor.check('string', '0')
'0'
&gt;&gt;&gt; vtor.check('string', 0)
Traceback (most recent call last):
VdtTypeError: the value &quot;0&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('string(2)', '12')
'12'
&gt;&gt;&gt; vtor.check('string(2)', '1')
Traceback (most recent call last):
VdtValueTooShortError: the value &quot;1&quot; is too short.
&gt;&gt;&gt; vtor.check('string(min=2, max=3)', '123')
'123'
&gt;&gt;&gt; vtor.check('string(min=2, max=3)', '1234')
Traceback (most recent call last):
VdtValueTooLongError: the value &quot;1234&quot; is too long.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_int_list"></a>
        <a name="is_int_list"></a>
        <div class="functionHeader">
        def is_int_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L991" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of integers.

You can optionally specify the minimum and maximum number of members.

Each list member is checked that it is an integer.

&gt;&gt;&gt; vtor.check('int_list', ())
[]
&gt;&gt;&gt; vtor.check('int_list', [])
[]
&gt;&gt;&gt; vtor.check('int_list', (1, 2))
[1, 2]
&gt;&gt;&gt; vtor.check('int_list', [1, 2])
[1, 2]
&gt;&gt;&gt; vtor.check('int_list', [1, 'a'])
Traceback (most recent call last):
VdtTypeError: the value &quot;a&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_bool_list"></a>
        <a name="is_bool_list"></a>
        <div class="functionHeader">
        def is_bool_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L1013" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of booleans.

You can optionally specify the minimum and maximum number of members.

Each list member is checked that it is a boolean.

&gt;&gt;&gt; vtor.check('bool_list', ())
[]
&gt;&gt;&gt; vtor.check('bool_list', [])
[]
&gt;&gt;&gt; check_res = vtor.check('bool_list', (True, False))
&gt;&gt;&gt; check_res == [True, False]
1
&gt;&gt;&gt; check_res = vtor.check('bool_list', [True, False])
&gt;&gt;&gt; check_res == [True, False]
1
&gt;&gt;&gt; vtor.check('bool_list', [True, 'a'])
Traceback (most recent call last):
VdtTypeError: the value &quot;a&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_float_list"></a>
        <a name="is_float_list"></a>
        <div class="functionHeader">
        def is_float_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L1037" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of floats.

You can optionally specify the minimum and maximum number of members.

Each list member is checked that it is a float.

&gt;&gt;&gt; vtor.check('float_list', ())
[]
&gt;&gt;&gt; vtor.check('float_list', [])
[]
&gt;&gt;&gt; vtor.check('float_list', (1, 2.0))
[1.0, 2.0]
&gt;&gt;&gt; vtor.check('float_list', [1, 2.0])
[1.0, 2.0]
&gt;&gt;&gt; vtor.check('float_list', [1, 'a'])
Traceback (most recent call last):
VdtTypeError: the value &quot;a&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_string_list"></a>
        <a name="is_string_list"></a>
        <div class="functionHeader">
        def is_string_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L1059" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of strings.

You can optionally specify the minimum and maximum number of members.

Each list member is checked that it is a string.

&gt;&gt;&gt; vtor.check('string_list', ())
[]
&gt;&gt;&gt; vtor.check('string_list', [])
[]
&gt;&gt;&gt; vtor.check('string_list', ('a', 'b'))
['a', 'b']
&gt;&gt;&gt; vtor.check('string_list', ['a', 1])
Traceback (most recent call last):
VdtTypeError: the value &quot;1&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check('string_list', 'hello')
Traceback (most recent call last):
VdtTypeError: the value &quot;hello&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_ip_addr_list"></a>
        <a name="is_ip_addr_list"></a>
        <div class="functionHeader">
        def is_ip_addr_list(value, min=None, max=None):
        <a href="gaupol/gtk/conf/validate.py.html#L1084" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list of IP addresses.

You can optionally specify the minimum and maximum number of members.

Each list member is checked that it is an IP address.

&gt;&gt;&gt; vtor.check('ip_addr_list', ())
[]
&gt;&gt;&gt; vtor.check('ip_addr_list', [])
[]
&gt;&gt;&gt; vtor.check('ip_addr_list', ('1.2.3.4', '5.6.7.8'))
['1.2.3.4', '5.6.7.8']
&gt;&gt;&gt; vtor.check('ip_addr_list', ['a'])
Traceback (most recent call last):
VdtValueError: the value &quot;a&quot; is unacceptable.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_mixed_list"></a>
        <a name="is_mixed_list"></a>
        <div class="functionHeader">
        def is_mixed_list(value, *args):
        <a href="gaupol/gtk/conf/validate.py.html#L1112" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Check that the value is a list.
Allow specifying the type of each member.
Work on lists of specific lengths.

You specify each member as a positional argument specifying type

Each type should be one of the following strings :
  'integer', 'float', 'ip_addr', 'string', 'boolean'

So you can specify a list of two strings, followed by
two integers as :

  mixed_list('string', 'string', 'integer', 'integer')

The length of the list must match the number of positional
arguments you supply.

&gt;&gt;&gt; mix_str = &quot;mixed_list('integer', 'float', 'ip_addr', 'string', 'boolean')&quot;
&gt;&gt;&gt; check_res = vtor.check(mix_str, (1, 2.0, '1.2.3.4', 'a', True))
&gt;&gt;&gt; check_res == [1, 2.0, '1.2.3.4', 'a', True]
1
&gt;&gt;&gt; check_res = vtor.check(mix_str, ('1', '2.0', '1.2.3.4', 'a', 'True'))
&gt;&gt;&gt; check_res == [1, 2.0, '1.2.3.4', 'a', True]
1
&gt;&gt;&gt; vtor.check(mix_str, ('b', 2.0, '1.2.3.4', 'a', True))
Traceback (most recent call last):
VdtTypeError: the value &quot;b&quot; is of the wrong type.
&gt;&gt;&gt; vtor.check(mix_str, (1, 2.0, '1.2.3.4', 'a'))
Traceback (most recent call last):
VdtValueTooShortError: the value &quot;(1, 2.0, '1.2.3.4', 'a')&quot; is too short.
&gt;&gt;&gt; vtor.check(mix_str, (1, 2.0, '1.2.3.4', 'a', 1, 'b'))
Traceback (most recent call last):
VdtValueTooLongError: the value &quot;(1, 2.0, '1.2.3.4', 'a', 1, 'b')&quot; is too long.
&gt;&gt;&gt; vtor.check(mix_str, 0)
Traceback (most recent call last):
VdtTypeError: the value &quot;0&quot; is of the wrong type.

This test requires an elaborate setup, because of a change in error string
output from the interpreter between Python 2.2 and 2.3 .

&gt;&gt;&gt; res_seq = (
...     'passed an incorrect value &quot;',
...     'yoda',
...     '&quot; for parameter &quot;mixed_list&quot;.',
... )
&gt;&gt;&gt; if INTP_VER == (2, 2):
...     res_str = &quot;&quot;.join(res_seq)
... else:
...     res_str = &quot;'&quot;.join(res_seq)
&gt;&gt;&gt; try:
...     vtor.check('mixed_list(&quot;yoda&quot;)', ('a'))
... except VdtParamError, err:
...     str(err) == res_str
1
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate.is_option"></a>
        <a name="is_option"></a>
        <div class="functionHeader">
        def is_option(value, *options):
        <a href="gaupol/gtk/conf/validate.py.html#L1182" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
This check matches the value to any of a set of options.

&gt;&gt;&gt; vtor.check('option(&quot;yoda&quot;, &quot;jedi&quot;)', 'yoda')
'yoda'
&gt;&gt;&gt; vtor.check('option(&quot;yoda&quot;, &quot;jedi&quot;)', 'jed')
Traceback (most recent call last):
VdtValueError: the value &quot;jed&quot; is unacceptable.
&gt;&gt;&gt; vtor.check('option(&quot;yoda&quot;, &quot;jedi&quot;)', 0)
Traceback (most recent call last):
VdtTypeError: the value &quot;0&quot; is of the wrong type.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div><div class="function">
        <a name="gaupol.gtk.conf.validate._test"></a>
        <a name="_test"></a>
        <div class="functionHeader">
        def _test(value, *args, **keywargs):
        <a href="gaupol/gtk/conf/validate.py.html#L1201" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
A function that exists for test purposes.

&gt;&gt;&gt; checks = [
...     '3, 6, min=1, max=3, test=list(a, b, c)',
...     '3',
...     '3, 6',
...     '3,',
...     'min=1, test=&quot;a b c&quot;',
...     'min=5, test=&quot;a, b, c&quot;',
...     'min=1, max=3, test=&quot;a, b, c&quot;',
...     'min=-100, test=-99',
...     'min=1, max=3',
...     '3, 6, test=&quot;36&quot;',
...     '3, 6, test=&quot;a, b, c&quot;',
...     '3, max=3, test=list(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)',
...     '''3, max=3, test=list(&quot;'a'&quot;, 'b', &quot;x=(c)&quot;)''',
...     &quot;test='x=fish(3)'&quot;,
...    ]
&gt;&gt;&gt; v = Validator({'test': _test})
&gt;&gt;&gt; for entry in checks:
...     print v.check(('test(%s)' % entry), 3)
(3, ('3', '6'), {'test': ['a', 'b', 'c'], 'max': '3', 'min': '1'})
(3, ('3',), {})
(3, ('3', '6'), {})
(3, ('3',), {})
(3, (), {'test': 'a b c', 'min': '1'})
(3, (), {'test': 'a, b, c', 'min': '5'})
(3, (), {'test': 'a, b, c', 'max': '3', 'min': '1'})
(3, (), {'test': '-99', 'min': '-100'})
(3, (), {'max': '3', 'min': '1'})
(3, ('3', '6'), {'test': '36'})
(3, ('3', '6'), {'test': 'a, b, c'})
(3, ('3',), {'test': ['a', 'b', 'c'], 'max': '3'})
(3, ('3',), {'test': [&quot;'a'&quot;, 'b', 'x=(c)'], 'max': '3'})
(3, (), {'test': 'x=fish(3)'})
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div>
    
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://home.gna.org/gaupol/">Gaupol</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a>.
    </address>
  </body>
</html>