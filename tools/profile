#!/usr/bin/env python

# Profile running gaupol.main.main.
# Usage: See gaupol --help.

# Unless planning on lazy loading modules,
# we're not interested in profiling imports.
# pylint: disable-msg=W0404,W0611
import atexit
import bisect
import chardet
import codecs
import copy
import cPickle
import cProfile
import enchant
import filecmp
import functools
import gc
import gettext
import glib
import glob
import gobject
import gtk
import inspect
import json
import linecache
import locale
import os
import pango
import platform
import pstats
import re
import shutil
import string
import subprocess
import sys
import tarfile
import tempfile
import textwrap
import time
import traceback
import types
import urllib
import urlparse
import webbrowser

file_dir = os.path.dirname(os.path.abspath(__file__))
sys.path.insert(0, os.path.join(file_dir, ".."))
os.environ["GAUPOL_DEBUG"] = ""
import gaupol
cProfile.run("gaupol.main.main(sys.argv[1:])", "gaupol.prof")
stats = pstats.Stats("gaupol.prof")
stats.sort_stats("cumulative")
stats.print_stats("gaupol", .2)
os.remove("gaupol.prof")
