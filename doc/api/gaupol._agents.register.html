<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;gaupol._agents.register&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="module">Module g._.register</h1>
    <p>
      <span id="part">Part of <a href="gaupol.html">gaupol</a>.<a href="gaupol._agents.html">_agents</a></span>
      <a href="gaupol/_agents/register.py.html">View Source</a>
      
    </p>
    <div>
      
    </div>
    <div><pre class="literalblock">
Managing revertable actions.

To hook a method up with the undo/redo system, the following need to be done:

(1) The last argument to the method must be keyword argument 'register' with a
    default value of -1. This argument indicates which of doing, undoing or
    redoing is in process.

(2) At the end of the method, self.register_action(...) needs to be called with
    keyword arguments specified in RevertableAction.__init__, where they're
    directly passed to. Calling this method takes care of the management of
    undo and redo stacks.

(3) The method should be marked with the 'revertable' decorator. This decorator
    takes care of emitting an action signal once the method has been run, cuts
    the undo and redo stacks if needed and defaults the 'register' keyword
    argument to cons.REGISTER.DO.

Each method marked as revertable should match exactly one action in the undo
and redo stacks. Hence, if the method calls other revertable methods, the
resulting action needs to be grouped as one using self.group_actions(...).

If a revertable method needs to be performed without the possibility of
reverting, the 'register' keyword argument can be given a value of None. This
way it will not be in any way processed by the undo/redo system.
</pre>
<table class="fieldTable"></table></div>
    
    
    <div id="splitTables">
      <table class="children sortable" id="id100">
  
  
  
  
  <tr class="function">
    
    
    <td>Function</td>
    <td><a href="gaupol._agents.register.html#revertable">revertable</a></td>
    <td><span><pre class="literalblock">
Decorator to handle handle function with the action reversion system.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol._agents.register.RevertableAction.html">RevertableAction</a></td>
    <td><span><pre class="literalblock">
Action that can be reverted (undone or redone).
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol._agents.register.RevertableActionGroup.html">RevertableActionGroup</a></td>
    <td><span><pre class="literalblock">
Group of revertable actions.
</pre>
</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="gaupol._agents.register.RegisterAgent.html">RegisterAgent</a></td>
    <td><span><pre class="literalblock">
Managing revertable actions.
</pre>
</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    
    <div class="function">
        <a name="gaupol._agents.register.revertable"></a>
        <a name="revertable"></a>
        <div class="functionHeader">
        def revertable(function):
        <a href="gaupol/_agents/register.py.html#L53" class="functionSourceLink">
        
        (source)
      </a>
      </div>
        <div class="functionBody">
          
          <div><pre class="literalblock">
Decorator to handle handle function with the action reversion system.
</pre>
<table class="fieldTable"></table></div>
        </div>
      </div>
    
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://home.gna.org/gaupol/">Gaupol</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a>.
    </address>
  </body>
</html>